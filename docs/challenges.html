<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Challenges of Passiv Investing | Asset Allocation using Particle Swarm Optimization in R</title>
  <meta name="description" content="This GitBook is the Master Thesis of Axel Roth, which was created for the graduation at the HFT Stuttgart." />
  <meta name="generator" content="bookdown 0.30 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Challenges of Passiv Investing | Asset Allocation using Particle Swarm Optimization in R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This GitBook is the Master Thesis of Axel Roth, which was created for the graduation at the HFT Stuttgart." />
  <meta name="github-repo" content="https://github.com/AxelCode-R/Asset-Allocation-using-Particle-Swarm-Optimization-in-R" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Challenges of Passiv Investing | Asset Allocation using Particle Swarm Optimization in R" />
  
  <meta name="twitter:description" content="This GitBook is the Master Thesis of Axel Roth, which was created for the graduation at the HFT Stuttgart." />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="activevspassive.html"/>
<link rel="next" href="analyticalsolver.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="libs/mathjax-2.7.5/cdn.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
<link rel="stylesheet" href="my_style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Master Thesis Axel Roth</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="abstract.html"><a href="abstract.html"><i class="fa fa-check"></i>Abstract</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="software-information-and-usage.html"><a href="software-information-and-usage.html"><i class="fa fa-check"></i><b>2</b> Software information and usage</a>
<ul>
<li class="chapter" data-level="2.1" data-path="software-information-and-usage.html"><a href="software-information-and-usage.html#r-version-and-packages"><i class="fa fa-check"></i><b>2.1</b> R-Version and Packages</a></li>
<li class="chapter" data-level="2.2" data-path="software-information-and-usage.html"><a href="software-information-and-usage.html#reproducibility"><i class="fa fa-check"></i><b>2.2</b> Reproducibility</a></li>
<li class="chapter" data-level="2.3" data-path="software-information-and-usage.html"><a href="software-information-and-usage.html#r-functions"><i class="fa fa-check"></i><b>2.3</b> R-functions</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="open-data-sources.html"><a href="open-data-sources.html"><i class="fa fa-check"></i><b>3</b> Open Data Sources</a>
<ul>
<li class="chapter" data-level="3.1" data-path="open-data-sources.html"><a href="open-data-sources.html#r-functions-1"><i class="fa fa-check"></i><b>3.1</b> R-Functions</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="mathfundations.html"><a href="mathfundations.html"><i class="fa fa-check"></i><b>4</b> Mathematical Fundations</a>
<ul>
<li class="chapter" data-level="4.1" data-path="mathfundations.html"><a href="mathfundations.html#basic-operators"><i class="fa fa-check"></i><b>4.1</b> Basic Operators</a></li>
<li class="chapter" data-level="4.2" data-path="mathfundations.html"><a href="mathfundations.html#formula-conventions"><i class="fa fa-check"></i><b>4.2</b> Formula Conventions</a></li>
<li class="chapter" data-level="4.3" data-path="mathfundations.html"><a href="mathfundations.html#return-calculation"><i class="fa fa-check"></i><b>4.3</b> Return Calculation</a></li>
<li class="chapter" data-level="4.4" data-path="mathfundations.html"><a href="mathfundations.html#markowitz-modern-portfolio-theory-mpt"><i class="fa fa-check"></i><b>4.4</b> Markowitz Modern Portfolio Theory (MPT)</a></li>
<li class="chapter" data-level="4.5" data-path="mathfundations.html"><a href="mathfundations.html#portfolio-math"><i class="fa fa-check"></i><b>4.5</b> Portfolio Math</a></li>
<li class="chapter" data-level="4.6" data-path="mathfundations.html"><a href="mathfundations.html#r-functions-2"><i class="fa fa-check"></i><b>4.6</b> R-Functions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="activevspassive.html"><a href="activevspassive.html"><i class="fa fa-check"></i><b>5</b> Activ vs Passiv Portfolio Managment</a>
<ul>
<li class="chapter" data-level="5.1" data-path="activevspassive.html"><a href="activevspassive.html#results-of-the-literature"><i class="fa fa-check"></i><b>5.1</b> Results of the Literature</a></li>
<li class="chapter" data-level="5.2" data-path="activevspassive.html"><a href="activevspassive.html#aggregation-of-the-literature"><i class="fa fa-check"></i><b>5.2</b> Aggregation of the Literature</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="challenges.html"><a href="challenges.html"><i class="fa fa-check"></i><b>6</b> Challenges of Passiv Investing</a>
<ul>
<li class="chapter" data-level="6.1" data-path="challenges.html"><a href="challenges.html#mean-variance-portfolio-mvp"><i class="fa fa-check"></i><b>6.1</b> Mean-Variance Portfolio (MVP)</a></li>
<li class="chapter" data-level="6.2" data-path="challenges.html"><a href="challenges.html#index-tracking-portfolio-itp"><i class="fa fa-check"></i><b>6.2</b> Index-Tracking Portfolio (ITP)</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="analyticalsolver.html"><a href="analyticalsolver.html"><i class="fa fa-check"></i><b>7</b> Analytic Solver for Quadratic Programming Problems</a>
<ul>
<li class="chapter" data-level="7.1" data-path="analyticalsolver.html"><a href="analyticalsolver.html#quadratic-programming-qp"><i class="fa fa-check"></i><b>7.1</b> Quadratic Programming (QP)</a></li>
<li class="chapter" data-level="7.2" data-path="analyticalsolver.html"><a href="analyticalsolver.html#qp-solver-from-quadprog"><i class="fa fa-check"></i><b>7.2</b> QP-Solver from quadprog</a></li>
<li class="chapter" data-level="7.3" data-path="analyticalsolver.html"><a href="analyticalsolver.html#exampleanalyticalmvp"><i class="fa fa-check"></i><b>7.3</b> Example: Solving MVP Problem with <code>solve.QP()</code></a></li>
<li class="chapter" data-level="7.4" data-path="analyticalsolver.html"><a href="analyticalsolver.html#exampleitpsolveqp"><i class="fa fa-check"></i><b>7.4</b> Example: Solving ITP-MSTE with <code>solve.QP()</code></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="particle-swarm-optimization-pso.html"><a href="particle-swarm-optimization-pso.html"><i class="fa fa-check"></i><b>8</b> Particle Swarm Optimization (PSO)</a>
<ul>
<li class="chapter" data-level="8.1" data-path="particle-swarm-optimization-pso.html"><a href="particle-swarm-optimization-pso.html#the-algorithm"><i class="fa fa-check"></i><b>8.1</b> The Algorithm</a></li>
<li class="chapter" data-level="8.2" data-path="particle-swarm-optimization-pso.html"><a href="particle-swarm-optimization-pso.html#pso-function"><i class="fa fa-check"></i><b>8.2</b> <code>pso()</code> Function</a></li>
<li class="chapter" data-level="8.3" data-path="particle-swarm-optimization-pso.html"><a href="particle-swarm-optimization-pso.html#animation-2-dimensional"><i class="fa fa-check"></i><b>8.3</b> Animation 2-Dimensional</a></li>
<li class="chapter" data-level="8.4" data-path="particle-swarm-optimization-pso.html"><a href="particle-swarm-optimization-pso.html#animation-2-dimensional-app"><i class="fa fa-check"></i><b>8.4</b> Animation 2-Dimensional App</a></li>
<li class="chapter" data-level="8.5" data-path="particle-swarm-optimization-pso.html"><a href="particle-swarm-optimization-pso.html#simple-constraint-handling"><i class="fa fa-check"></i><b>8.5</b> Simple Constraint Handling</a></li>
<li class="chapter" data-level="8.6" data-path="particle-swarm-optimization-pso.html"><a href="particle-swarm-optimization-pso.html#example-mvp"><i class="fa fa-check"></i><b>8.6</b> Example MVP</a></li>
<li class="chapter" data-level="8.7" data-path="particle-swarm-optimization-pso.html"><a href="particle-swarm-optimization-pso.html#example-itp-mste"><i class="fa fa-check"></i><b>8.7</b> Example: ITP-MSTE</a></li>
<li class="chapter" data-level="8.8" data-path="particle-swarm-optimization-pso.html"><a href="particle-swarm-optimization-pso.html#pros-and-cons-for-continuous-problems"><i class="fa fa-check"></i><b>8.8</b> Pros and Cons for Continuous Problems</a></li>
<li class="chapter" data-level="8.9" data-path="particle-swarm-optimization-pso.html"><a href="particle-swarm-optimization-pso.html#discrete-problems"><i class="fa fa-check"></i><b>8.9</b> Discrete Problems</a></li>
<li class="chapter" data-level="8.10" data-path="particle-swarm-optimization-pso.html"><a href="particle-swarm-optimization-pso.html#example-discrete-itp-mste"><i class="fa fa-check"></i><b>8.10</b> Example: Discrete ITP-MSTE</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="psovariants.html"><a href="psovariants.html"><i class="fa fa-check"></i><b>9</b> PSO Variations</a>
<ul>
<li class="chapter" data-level="9.1" data-path="psovariants.html"><a href="psovariants.html#testproblem-discrete-itp-mste"><i class="fa fa-check"></i><b>9.1</b> Testproblem: Discrete ITP-MSTE</a></li>
<li class="chapter" data-level="9.2" data-path="psovariants.html"><a href="psovariants.html#function-stretching"><i class="fa fa-check"></i><b>9.2</b> Function Stretching</a></li>
<li class="chapter" data-level="9.3" data-path="psovariants.html"><a href="psovariants.html#local-pso"><i class="fa fa-check"></i><b>9.3</b> Local PSO</a></li>
<li class="chapter" data-level="9.4" data-path="psovariants.html"><a href="psovariants.html#preserving-feasibility"><i class="fa fa-check"></i><b>9.4</b> Preserving Feasibility</a></li>
<li class="chapter" data-level="9.5" data-path="psovariants.html"><a href="psovariants.html#self-adaptive-velocity"><i class="fa fa-check"></i><b>9.5</b> Self-Adaptive Velocity</a></li>
<li class="chapter" data-level="9.6" data-path="psovariants.html"><a href="psovariants.html#pso-r-package"><i class="fa fa-check"></i><b>9.6</b> PSO R-Package</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="reallife.html"><a href="reallife.html"><i class="fa fa-check"></i><b>10</b> Real Life ITP Example</a>
<ul>
<li class="chapter" data-level="10.1" data-path="reallife.html"><a href="reallife.html#transaction-costs"><i class="fa fa-check"></i><b>10.1</b> Transaction Costs</a></li>
<li class="chapter" data-level="10.2" data-path="reallife.html"><a href="reallife.html#rebalancing-constraint"><i class="fa fa-check"></i><b>10.2</b> Rebalancing Constraint</a></li>
<li class="chapter" data-level="10.3" data-path="reallife.html"><a href="reallife.html#objective"><i class="fa fa-check"></i><b>10.3</b> Objective</a></li>
<li class="chapter" data-level="10.4" data-path="reallife.html"><a href="reallife.html#complete-itp-example"><i class="fa fa-check"></i><b>10.4</b> Complete ITP Example</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="future-research.html"><a href="future-research.html"><i class="fa fa-check"></i><b>11</b> Future Research</a></li>
<li class="chapter" data-level="12" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>12</b> Conclusion</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/AxelCode-R/Asset-Allocation-using-Particle-Swarm-Optimization-in-R" target="blank">GitHub Repository</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Asset Allocation using Particle Swarm Optimization in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="challenges" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">Chapter 6</span> Challenges of Passiv Investing<a href="challenges.html#challenges" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In this chapter, two common challenges of passive investing are analyzed to create simple use cases for testing the PSO. The first challenge is the mean-variance portfolio (MVP) from Markowitz’s modern portfolio theory, which, simply put, is an optimal allocation of assets in terms of risk and return. The second challenge is the index tracking problem, which attempts to construct a portfolio with minimal tracking error to a given benchmark.</p>
<div id="mean-variance-portfolio-mvp" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Mean-Variance Portfolio (MVP)<a href="challenges.html#mean-variance-portfolio-mvp" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Markowitz showed that diversifying risk across multiple assets reduces overall portfolio risk. This result was the beginning of the widely used modern portfolio theory, which uses mathematical models to create portfolios with minimal variance for a given return target. All such optimal portfolios for a given return target are called efficient and constitute the efficient frontier. The problem behind Markowitz’s original MVP without constraints can be solved in a closed form, which is explained in <span class="citation">(<a href="#ref-Eric2021" role="doc-biblioref">Zivot 2021</a>)</span>. This type of MVP has no practical use, so only MVP problems with constraints and without closed forms are of interest in this thesis.</p>
<div id="mvp-problem" class="section level3 hasAnchor" number="6.1.1">
<h3><span class="header-section-number">6.1.1</span> MVP: Problem<a href="challenges.html#mvp-problem" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let there be <span class="math inline">\(N\)</span> assets and their returns on <span class="math inline">\(T\)</span> different days, creating a return matrix <span class="math inline">\(R \in \mathbb{R}^{T \times N}\)</span>. Each element <span class="math inline">\(R_{t,i}\)</span> contains the return of the <span class="math inline">\(i\)</span>-th asset on day <span class="math inline">\(t\)</span>. The estimated covariance matrix of the returns is <span class="math inline">\(\textstyle\sum \in \mathbb{R}^{N \times N}\)</span> and the estimation of the expected returns are <span class="math inline">\(\mu \in \mathbb{R}^{N}\)</span>. The MVP problem with the risk aversion parameter <span class="math inline">\(\lambda \in [0,1]\)</span>, as shown in <span class="citation">(<a href="#ref-Mari2005" role="doc-biblioref">Maringer 2005</a>)</span>, can be formalized as follows:
<span class="math display" id="eq:MVP">\[\begin{equation}
\underset{w}{min} \ \ \ \lambda \ w^T \textstyle\sum w - (1-\lambda) \ \mu^T w
\tag{6.1}
\end{equation}\]</span></p>
<p>The risk aversion parameter <span class="math inline">\(\lambda\)</span> defines the tradeoff between risk and return. With <span class="math inline">\(\lambda = 1\)</span>, the minimization problem contains only the variance term, leading to a minimum variance portfolio, and <span class="math inline">\(\lambda = 0\)</span> transforms the problem into a minimization of negative expected returns, leading to a maximum return portfolio. All possible portfolios created by <span class="math inline">\(\lambda \in [0, 1]\)</span> define the efficient frontier.</p>
</div>
<div id="mvp-example" class="section level3 hasAnchor" number="6.1.2">
<h3><span class="header-section-number">6.1.2</span> MVP: Example<a href="challenges.html#mvp-example" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>All possible MVP’s together define the efficient frontier, which is analyzed in this section without going into the details of its calculation. This example uses three assets (stocks: IBM, Google, Apple) and calculates the MVP for each <span class="math inline">\(\lambda\)</span>. First, the daily returns of these three assets from 2018-01-01 to 2019-12-31 are loaded.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code_fold_it_collapsed"><code class="sourceCode r"><span id="cb4-1"><a href="challenges.html#cb4-1" aria-hidden="true" tabindex="-1"></a>returns <span class="ot">&lt;-</span> <span class="fu">buffer</span>(</span>
<span id="cb4-2"><a href="challenges.html#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_yf</span>(<span class="at">tickers =</span> <span class="fu">c</span>(<span class="st">&quot;IBM&quot;</span>, <span class="st">&quot;GOOG&quot;</span>, <span class="st">&quot;AAPL&quot;</span>), <span class="at">from =</span> <span class="st">&quot;2018-01-01&quot;</span>, <span class="at">to =</span> <span class="st">&quot;2019-12-31&quot;</span>)<span class="sc">$</span>returns, </span>
<span id="cb4-3"><a href="challenges.html#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;CPI_3_assets&quot;</span></span>
<span id="cb4-4"><a href="challenges.html#cb4-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>The cumulative daily returns are:<br />
<img src="Master_Thesis_files/figure-html/MVP_ex2-1.png" width="672" />
The expected daily returns and the covariance matrix for the three assets can be estimated using the formulas from chapter <a href="mathfundations.html#mathfundations">4</a>:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code_fold_it_collapsed"><code class="sourceCode r"><span id="cb5-1"><a href="challenges.html#cb5-1" aria-hidden="true" tabindex="-1"></a>mu <span class="ot">&lt;-</span> <span class="fu">ret_to_geomeanret</span>(returns)</span>
<span id="cb5-2"><a href="challenges.html#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat0</span>(<span class="st">&quot;estimation of expected daily returns:&quot;</span>)</span>
<span id="cb5-3"><a href="challenges.html#cb5-3" aria-hidden="true" tabindex="-1"></a>mu</span>
<span id="cb5-4"><a href="challenges.html#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb5-5"><a href="challenges.html#cb5-5" aria-hidden="true" tabindex="-1"></a>cov <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">nearPD</span>(<span class="fu">cov_</span>(returns, mu))<span class="sc">$</span>mat)</span>
<span id="cb5-6"><a href="challenges.html#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cat0</span>(<span class="st">&quot;estimation of positiv definite covariance matrix:&quot;</span>)</span>
<span id="cb5-7"><a href="challenges.html#cb5-7" aria-hidden="true" tabindex="-1"></a>cov</span></code></pre></div>
<pre><code>estimation of expected daily returns:
         AAPL           IBM          GOOG 
 0.0011434115 -0.0001059164  0.0004870292 

estimation of positiv definite covariance matrix:
             AAPL          IBM         GOOG
AAPL 0.0003012226 0.0001177826 0.0001799097
IBM  0.0001177826 0.0002047608 0.0001158735
GOOG 0.0001799097 0.0001158735 0.0002728911</code></pre>
<p>This is all the data necessary to solve the MVP problem with <span class="math inline">\(\lambda \in \{0.01, 0.02, ..., 0.99, 1\}\)</span>. All 100 portfolios are computed by solving a quadratic minimization problem with the long only (<span class="math inline">\(w_i \geq 0 \ \forall \ i\)</span>) constraint and the weights should sum to 1.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code_fold_it_collapsed"><code class="sourceCode r"><span id="cb7-1"><a href="challenges.html#cb7-1" aria-hidden="true" tabindex="-1"></a>portfolios <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb7-2"><a href="challenges.html#cb7-2" aria-hidden="true" tabindex="-1"></a>mu_and_var <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb7-3"><a href="challenges.html#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(lambda <span class="cf">in</span> <span class="fu">seq</span>(<span class="fl">0.01</span>,<span class="dv">1</span>, <span class="fl">0.01</span>)){</span>
<span id="cb7-4"><a href="challenges.html#cb7-4" aria-hidden="true" tabindex="-1"></a>    mat <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb7-5"><a href="challenges.html#cb7-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">Dmat =</span> lambda <span class="sc">*</span> cov,</span>
<span id="cb7-6"><a href="challenges.html#cb7-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">dvec =</span> (<span class="dv">1</span> <span class="sc">-</span> lambda) <span class="sc">*</span> mu,</span>
<span id="cb7-7"><a href="challenges.html#cb7-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">Amat =</span> <span class="fu">t</span>(<span class="fu">rbind</span>(</span>
<span id="cb7-8"><a href="challenges.html#cb7-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rep</span>(<span class="dv">1</span>, <span class="fu">ncol</span>(returns)), <span class="co"># sum up to 1</span></span>
<span id="cb7-9"><a href="challenges.html#cb7-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">diag</span>(<span class="dv">1</span>, <span class="at">nrow=</span><span class="fu">ncol</span>(returns), <span class="at">ncol=</span><span class="fu">ncol</span>(returns)) <span class="co"># long only</span></span>
<span id="cb7-10"><a href="challenges.html#cb7-10" aria-hidden="true" tabindex="-1"></a>      )),</span>
<span id="cb7-11"><a href="challenges.html#cb7-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">bvec =</span> <span class="fu">c</span>(</span>
<span id="cb7-12"><a href="challenges.html#cb7-12" aria-hidden="true" tabindex="-1"></a>        <span class="dv">1</span>, <span class="co"># sum up to 1</span></span>
<span id="cb7-13"><a href="challenges.html#cb7-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rep</span>(<span class="dv">0</span>, <span class="fu">ncol</span>(returns)) <span class="co"># long only</span></span>
<span id="cb7-14"><a href="challenges.html#cb7-14" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb7-15"><a href="challenges.html#cb7-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">meq =</span> <span class="dv">1</span></span>
<span id="cb7-16"><a href="challenges.html#cb7-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-17"><a href="challenges.html#cb7-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-18"><a href="challenges.html#cb7-18" aria-hidden="true" tabindex="-1"></a>    qp <span class="ot">&lt;-</span> <span class="fu">solve.QP</span>(<span class="at">Dmat =</span> mat<span class="sc">$</span>Dmat, <span class="at">dvec =</span> mat<span class="sc">$</span>dvec, <span class="at">Amat =</span> mat<span class="sc">$</span>Amat, <span class="at">bvec =</span> mat<span class="sc">$</span>bvec, <span class="at">meq =</span> mat<span class="sc">$</span>meq)</span>
<span id="cb7-19"><a href="challenges.html#cb7-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-20"><a href="challenges.html#cb7-20" aria-hidden="true" tabindex="-1"></a>    port <span class="ot">&lt;-</span> <span class="fu">xts</span>(returns <span class="sc">%*%</span> qp<span class="sc">$</span>solution, <span class="at">order.by=</span><span class="fu">index</span>(returns))</span>
<span id="cb7-21"><a href="challenges.html#cb7-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-22"><a href="challenges.html#cb7-22" aria-hidden="true" tabindex="-1"></a>    mu_and_var <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb7-23"><a href="challenges.html#cb7-23" aria-hidden="true" tabindex="-1"></a>      mu_and_var,</span>
<span id="cb7-24"><a href="challenges.html#cb7-24" aria-hidden="true" tabindex="-1"></a>      <span class="fu">data.frame</span>(<span class="st">&quot;lambda&quot;</span> <span class="ot">=</span> lambda, <span class="st">&quot;mu&quot;</span> <span class="ot">=</span> mu <span class="sc">%*%</span> qp<span class="sc">$</span>solution, <span class="st">&quot;sd&quot;</span> <span class="ot">=</span> <span class="fu">sqrt</span>(<span class="fu">t</span>(qp<span class="sc">$</span>solution) <span class="sc">%*%</span> cov <span class="sc">%*%</span> qp<span class="sc">$</span>solution))</span>
<span id="cb7-25"><a href="challenges.html#cb7-25" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-26"><a href="challenges.html#cb7-26" aria-hidden="true" tabindex="-1"></a>    portfolios <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb7-27"><a href="challenges.html#cb7-27" aria-hidden="true" tabindex="-1"></a>      portfolios,</span>
<span id="cb7-28"><a href="challenges.html#cb7-28" aria-hidden="true" tabindex="-1"></a>      qp<span class="sc">$</span>solution</span>
<span id="cb7-29"><a href="challenges.html#cb7-29" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-30"><a href="challenges.html#cb7-30" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-31"><a href="challenges.html#cb7-31" aria-hidden="true" tabindex="-1"></a>portfolios <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(portfolios)</span>
<span id="cb7-32"><a href="challenges.html#cb7-32" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(portfolios) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(returns)</span></code></pre></div>
<p>The resulting portfolios are plotted in the daily <span class="math inline">\(\mu\)</span>-<span class="math inline">\(\sigma\)</span> diagram to create the efficient frontier:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code_fold_it_collapsed"><code class="sourceCode r"><span id="cb8-1"><a href="challenges.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_ly</span>(<span class="at">data =</span> mu_and_var, <span class="at">type =</span> <span class="st">&#39;scatter&#39;</span>, <span class="at">mode=</span><span class="st">&quot;lines+markers&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="challenges.html#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_lines</span>(<span class="at">y =</span> <span class="sc">~</span>mu, <span class="at">x =</span> <span class="sc">~</span>sd, <span class="at">name =</span> <span class="st">&quot;efficient frontier&quot;</span>, <span class="at">mode=</span><span class="st">&quot;lines&quot;</span>, <span class="at">type =</span> <span class="st">&#39;scatter&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="challenges.html#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>sd, <span class="at">y=</span><span class="sc">~</span>mu, <span class="at">mode=</span><span class="st">&quot;markers&quot;</span>, <span class="at">name =</span> <span class="st">&quot;lambda steps&quot;</span>, <span class="at">type =</span> <span class="st">&#39;scatter&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="challenges.html#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb8-5"><a href="challenges.html#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title=</span><span class="fu">list</span>(<span class="at">text =</span> <span class="st">&quot;mu&quot;</span>, <span class="at">standoff =</span> 10L), <span class="at">range=</span><span class="fu">c</span>(<span class="fu">min</span>(mu_and_var<span class="sc">$</span>mu)<span class="sc">*</span><span class="fl">0.9</span>, <span class="fu">max</span>(mu_and_var<span class="sc">$</span>mu)<span class="sc">*</span><span class="fl">1.1</span>)),</span>
<span id="cb8-6"><a href="challenges.html#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title=</span><span class="fu">list</span>(<span class="at">text =</span> <span class="st">&quot;sigma&quot;</span>, <span class="at">standoff =</span> 10L), <span class="at">range=</span><span class="fu">c</span>(<span class="fu">min</span>(mu_and_var<span class="sc">$</span>sd)<span class="sc">*</span><span class="fl">0.95</span>, <span class="fu">max</span>(mu_and_var<span class="sc">$</span>sd)<span class="sc">*</span><span class="fl">1.05</span>))</span>
<span id="cb8-7"><a href="challenges.html#cb8-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb8-8"><a href="challenges.html#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">#config(mathjax = &#39;cdn&#39;) %&gt;% </span></span>
<span id="cb8-9"><a href="challenges.html#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_save</span>()</span></code></pre></div>
<p><img src="Master_Thesis_files/figure-html/MVP_ex5-1.png" width="672" /></p>
<p>The portfolio compositions for each <span class="math inline">\(\lambda\)</span> are:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code_fold_it_collapsed"><code class="sourceCode r"><span id="cb9-1"><a href="challenges.html#cb9-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(<span class="at">type=</span><span class="st">&quot;bar&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="challenges.html#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">barmode=</span><span class="st">&quot;stack&quot;</span>, <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title=</span><span class="st">&quot;lambda&quot;</span>, <span class="at">autorange =</span> <span class="st">&quot;reversed&quot;</span>), <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title=</span><span class="st">&quot;weight&quot;</span>), <span class="at">margin=</span><span class="fu">list</span>(<span class="at">b=</span><span class="dv">70</span>))</span>
<span id="cb9-3"><a href="challenges.html#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(portfolios)){</span>
<span id="cb9-4"><a href="challenges.html#cb9-4" aria-hidden="true" tabindex="-1"></a>  p <span class="ot">&lt;-</span> p <span class="sc">%&gt;%</span></span>
<span id="cb9-5"><a href="challenges.html#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">x=</span><span class="fu">seq</span>(<span class="fl">0.01</span>,<span class="dv">1</span>, <span class="fl">0.01</span>), <span class="at">y=</span>portfolios[, i], <span class="at">name =</span> <span class="fu">colnames</span>(portfolios)[i])</span>
<span id="cb9-6"><a href="challenges.html#cb9-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-7"><a href="challenges.html#cb9-7" aria-hidden="true" tabindex="-1"></a>p <span class="sc">%&gt;%</span> </span>
<span id="cb9-8"><a href="challenges.html#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">mathjax =</span> <span class="st">&#39;cdn&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-9"><a href="challenges.html#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_save</span>()</span></code></pre></div>
<div id="htmlwidget-9b4e2148284d0289cd8e" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-9b4e2148284d0289cd8e">{"x":{"visdat":{"3b873ab6818":["function () ","plotlyVisDat"]},"cur_data":"3b873ab6818","attrs":{"3b873ab6818":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"},"3b873ab6818.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","x":[0.01,0.02,0.03,0.04,0.05,0.06,0.07,0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.19,0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29,0.3,0.31,0.32,0.33,0.34,0.35,0.36,0.37,0.38,0.39,0.4,0.41,0.42,0.43,0.44,0.45,0.46,0.47,0.48,0.49,0.5,0.51,0.52,0.53,0.54,0.55,0.56,0.57,0.58,0.59,0.6,0.61,0.62,0.63,0.64,0.65,0.66,0.67,0.68,0.69,0.7,0.71,0.72,0.73,0.74,0.75,0.76,0.77,0.78,0.79,0.8,0.81,0.82,0.83,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.94,0.95,0.96,0.97,0.98,0.99,1],"y":[0.999999999999943,1.00000000000006,1.00000000000004,0.999999999999986,0.999999999999993,0.999999999999986,1,1,1,1,1.00000000000001,1,1,0.999999999999993,1,0.999999999999998,0.999999999999998,0.999999999999998,1.00000000000001,1,1,1,1,0.999999999999998,1,1,1,0.999999999999997,1,0.999999999999998,1,0.999999999999999,1,1,0.999999999999999,1,1,1,1,1,1,1,0.999999999999999,1,1,1,0.999999999999999,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0.974424200820863,0.932522783015191,0.891584616193558,0.851576862254235,0.79805448022897,0.735857274490161,0.675027040306051,0.615519202517248,0.557291103175516,0.500301899564459,0.444512468661003,0.389885317568036,0.336384499487296,0.283975534836774,0.232625337148889,0.182302143414762],"name":"AAPL","inherit":true},"3b873ab6818.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","x":[0.01,0.02,0.03,0.04,0.05,0.06,0.07,0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.19,0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29,0.3,0.31,0.32,0.33,0.34,0.35,0.36,0.37,0.38,0.39,0.4,0.41,0.42,0.43,0.44,0.45,0.46,0.47,0.48,0.49,0.5,0.51,0.52,0.53,0.54,0.55,0.56,0.57,0.58,0.59,0.6,0.61,0.62,0.63,0.64,0.65,0.66,0.67,0.68,0.69,0.7,0.71,0.72,0.73,0.74,0.75,0.76,0.77,0.78,0.79,0.8,0.81,0.82,0.83,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.94,0.95,0.96,0.97,0.98,0.99,1],"y":[0,-2.2422591037728e-14,0,0,0,0,0,1.40795635746477e-15,6.56502676855092e-16,-6.15969024386913e-16,-5.80777827321617e-16,0,0,2.48725779943196e-16,0,0,2.17841189451647e-16,0,-1.57526493530199e-15,0,0,0,-1.73745343950548e-16,0,0,0,0,-1.47244760082207e-16,1.42674289254148e-16,0,-1.02228639685669e-15,2.60165848661969e-16,-2.52426064508029e-16,-1.22487238923834e-16,0,0,0,0,1.05702169094293e-16,1.02661504064486e-16,0,0,0,-9.135830991576e-17,0,0,4.44089209850063e-16,-4.44089209850063e-16,-7.88421582094419e-17,-3.67569842596542e-16,0,0,-3.49314244166377e-17,0,3.28312593130391e-17,3.18137625508739e-17,0,2.98395085363965e-17,0,2.79409223538501e-17,5.40363564077914e-17,0,2.52224820511187e-17,0,-2.22044604925031e-16,2.26445305474001e-17,-2.18138795542075e-17,2.0996741151966e-17,2.01926594422667e-17,1.94012006410339e-17,0,0,-2.22044604925031e-16,0,-3.12389008686261e-17,1.48956965998713e-17,0,1.34781955095036e-17,0,0,0,-2.15105713943725e-17,-1.00963930104911e-17,0,0,1.10278221123531e-17,1.21621047400349e-17,0,0.0325508957134387,0.0866551155211275,0.139570231596779,0.19133501906209,0.241986585291589,0.291560458622587,0.340090671462406,0.387609838201395,0.434149228306591,0.479738834940253,0.524407439419699,0.568182671809556],"name":"IBM","inherit":true},"3b873ab6818.3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","x":[0.01,0.02,0.03,0.04,0.05,0.06,0.07,0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.19,0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29,0.3,0.31,0.32,0.33,0.34,0.35,0.36,0.37,0.38,0.39,0.4,0.41,0.42,0.43,0.44,0.45,0.46,0.47,0.48,0.49,0.5,0.51,0.52,0.53,0.54,0.55,0.56,0.57,0.58,0.59,0.6,0.61,0.62,0.63,0.64,0.65,0.66,0.67,0.68,0.69,0.7,0.71,0.72,0.73,0.74,0.75,0.76,0.77,0.78,0.79,0.8,0.81,0.82,0.83,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.94,0.95,0.96,0.97,0.98,0.99,1],"y":[0,0,-1.4210854715202e-14,0,0,0,0,0,-3.5527136788005e-15,-3.5527136788005e-15,-3.5527136788005e-15,0,0,0,0,0,0,1.77635683940025e-15,-1.77635683940025e-15,-1.77635683940025e-15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4.44089209850063e-16,-4.44089209850063e-16,0,-4.44089209850063e-16,-4.44089209850063e-16,4.44089209850063e-16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1.11022302462516e-16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2.77555756156289e-17,0,0.0255757991791375,0.0674772169848091,0.108415383806442,0.148423137745765,0.169394624057591,0.177487609988712,0.18540272809717,0.193145778420662,0.200722311532896,0.208137641812954,0.215396859876591,0.222504844230568,0.229466272206113,0.236285630222973,0.242967223431412,0.249515184775682],"name":"GOOG","inherit":true}},"layout":{"margin":{"b":70,"l":60,"t":25,"r":10},"barmode":"stack","xaxis":{"domain":[0,1],"automargin":true,"title":"lambda","autorange":"reversed"},"yaxis":{"domain":[0,1],"automargin":true,"title":"weight"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"type":"bar","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"type":"bar","x":[0.01,0.02,0.03,0.04,0.05,0.06,0.07,0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.19,0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29,0.3,0.31,0.32,0.33,0.34,0.35,0.36,0.37,0.38,0.39,0.4,0.41,0.42,0.43,0.44,0.45,0.46,0.47,0.48,0.49,0.5,0.51,0.52,0.53,0.54,0.55,0.56,0.57,0.58,0.59,0.6,0.61,0.62,0.63,0.64,0.65,0.66,0.67,0.68,0.69,0.7,0.71,0.72,0.73,0.74,0.75,0.76,0.77,0.78,0.79,0.8,0.81,0.82,0.83,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.94,0.95,0.96,0.97,0.98,0.99,1],"y":[0.999999999999943,1.00000000000006,1.00000000000004,0.999999999999986,0.999999999999993,0.999999999999986,1,1,1,1,1.00000000000001,1,1,0.999999999999993,1,0.999999999999998,0.999999999999998,0.999999999999998,1.00000000000001,1,1,1,1,0.999999999999998,1,1,1,0.999999999999997,1,0.999999999999998,1,0.999999999999999,1,1,0.999999999999999,1,1,1,1,1,1,1,0.999999999999999,1,1,1,0.999999999999999,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0.974424200820863,0.932522783015191,0.891584616193558,0.851576862254235,0.79805448022897,0.735857274490161,0.675027040306051,0.615519202517248,0.557291103175516,0.500301899564459,0.444512468661003,0.389885317568036,0.336384499487296,0.283975534836774,0.232625337148889,0.182302143414762],"name":"AAPL","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"type":"bar","x":[0.01,0.02,0.03,0.04,0.05,0.06,0.07,0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.19,0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29,0.3,0.31,0.32,0.33,0.34,0.35,0.36,0.37,0.38,0.39,0.4,0.41,0.42,0.43,0.44,0.45,0.46,0.47,0.48,0.49,0.5,0.51,0.52,0.53,0.54,0.55,0.56,0.57,0.58,0.59,0.6,0.61,0.62,0.63,0.64,0.65,0.66,0.67,0.68,0.69,0.7,0.71,0.72,0.73,0.74,0.75,0.76,0.77,0.78,0.79,0.8,0.81,0.82,0.83,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.94,0.95,0.96,0.97,0.98,0.99,1],"y":[0,-2.2422591037728e-14,0,0,0,0,0,1.40795635746477e-15,6.56502676855092e-16,-6.15969024386913e-16,-5.80777827321617e-16,0,0,2.48725779943196e-16,0,0,2.17841189451647e-16,0,-1.57526493530199e-15,0,0,0,-1.73745343950548e-16,0,0,0,0,-1.47244760082207e-16,1.42674289254148e-16,0,-1.02228639685669e-15,2.60165848661969e-16,-2.52426064508029e-16,-1.22487238923834e-16,0,0,0,0,1.05702169094293e-16,1.02661504064486e-16,0,0,0,-9.135830991576e-17,0,0,4.44089209850063e-16,-4.44089209850063e-16,-7.88421582094419e-17,-3.67569842596542e-16,0,0,-3.49314244166377e-17,0,3.28312593130391e-17,3.18137625508739e-17,0,2.98395085363965e-17,0,2.79409223538501e-17,5.40363564077914e-17,0,2.52224820511187e-17,0,-2.22044604925031e-16,2.26445305474001e-17,-2.18138795542075e-17,2.0996741151966e-17,2.01926594422667e-17,1.94012006410339e-17,0,0,-2.22044604925031e-16,0,-3.12389008686261e-17,1.48956965998713e-17,0,1.34781955095036e-17,0,0,0,-2.15105713943725e-17,-1.00963930104911e-17,0,0,1.10278221123531e-17,1.21621047400349e-17,0,0.0325508957134387,0.0866551155211275,0.139570231596779,0.19133501906209,0.241986585291589,0.291560458622587,0.340090671462406,0.387609838201395,0.434149228306591,0.479738834940253,0.524407439419699,0.568182671809556],"name":"IBM","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"type":"bar","x":[0.01,0.02,0.03,0.04,0.05,0.06,0.07,0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.19,0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29,0.3,0.31,0.32,0.33,0.34,0.35,0.36,0.37,0.38,0.39,0.4,0.41,0.42,0.43,0.44,0.45,0.46,0.47,0.48,0.49,0.5,0.51,0.52,0.53,0.54,0.55,0.56,0.57,0.58,0.59,0.6,0.61,0.62,0.63,0.64,0.65,0.66,0.67,0.68,0.69,0.7,0.71,0.72,0.73,0.74,0.75,0.76,0.77,0.78,0.79,0.8,0.81,0.82,0.83,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.94,0.95,0.96,0.97,0.98,0.99,1],"y":[0,0,-1.4210854715202e-14,0,0,0,0,0,-3.5527136788005e-15,-3.5527136788005e-15,-3.5527136788005e-15,0,0,0,0,0,0,1.77635683940025e-15,-1.77635683940025e-15,-1.77635683940025e-15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4.44089209850063e-16,-4.44089209850063e-16,0,-4.44089209850063e-16,-4.44089209850063e-16,4.44089209850063e-16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1.11022302462516e-16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2.77555756156289e-17,0,0.0255757991791375,0.0674772169848091,0.108415383806442,0.148423137745765,0.169394624057591,0.177487609988712,0.18540272809717,0.193145778420662,0.200722311532896,0.208137641812954,0.215396859876591,0.222504844230568,0.229466272206113,0.236285630222973,0.242967223431412,0.249515184775682],"name":"GOOG","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>It can be observed that the portfolio with the lowest variance was obtained with a diversified composition of the three assets. With gradually decreasing <span class="math inline">\(\lambda\)</span>, the minimization problem starts to ignore the variance, which leads to a portfolio investing more in the riskiest asset with the highest return.</p>
</div>
<div id="mvp-compare-estimators" class="section level3 hasAnchor" number="6.1.3">
<h3><span class="header-section-number">6.1.3</span> MVP: Compare Estimators<a href="challenges.html#mvp-compare-estimators" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The above solution for the MVP problem was performed using a geometric mean to estimate the expected returns <span class="math inline">\(\mu\)</span> and was also used in the estimation of the covariance <span class="math inline">\(\textstyle\sum\)</span>. This raises the question of whether the result is different from the classical approach of estimating these parameters using the arithmetic mean. The following plot illustrates the efficient frontier created from the MVP’s as a function of <span class="math inline">\(\lambda\)</span> using the arithmetic mean versus the geometric mean to estimate <span class="math inline">\(\mu\)</span>. The weights of the MVP’s using the geometric mean are used to calculate <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span> as a function of the arithmetic mean to make both efficient frontiers comparable:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code_fold_it_collapsed"><code class="sourceCode r"><span id="cb10-1"><a href="challenges.html#cb10-1" aria-hidden="true" tabindex="-1"></a>cov_ <span class="ot">&lt;-</span> <span class="cf">function</span>(mat, <span class="at">mean_vec=</span><span class="cn">NULL</span>){</span>
<span id="cb10-2"><a href="challenges.html#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">is.null</span>(mean_vec)){</span>
<span id="cb10-3"><a href="challenges.html#cb10-3" aria-hidden="true" tabindex="-1"></a>    mat_mean <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">data=</span><span class="dv">1</span>, <span class="at">nrow=</span><span class="fu">nrow</span>(mat)) <span class="sc">%*%</span> <span class="fu">apply</span>(mat, <span class="dv">2</span>, mean)</span>
<span id="cb10-4"><a href="challenges.html#cb10-4" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span>{</span>
<span id="cb10-5"><a href="challenges.html#cb10-5" aria-hidden="true" tabindex="-1"></a>    mat_mean <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">data=</span><span class="dv">1</span>, <span class="at">nrow=</span><span class="fu">nrow</span>(mat)) <span class="sc">%*%</span> mean_vec</span>
<span id="cb10-6"><a href="challenges.html#cb10-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-7"><a href="challenges.html#cb10-7" aria-hidden="true" tabindex="-1"></a>  mat <span class="ot">&lt;-</span> mat <span class="sc">-</span> mat_mean</span>
<span id="cb10-8"><a href="challenges.html#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="challenges.html#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>((<span class="fu">nrow</span>(mat)<span class="sc">-</span><span class="dv">1</span>)<span class="sc">^</span>(<span class="sc">-</span><span class="dv">1</span>) <span class="sc">*</span> <span class="fu">t</span>(mat) <span class="sc">%*%</span> mat)</span>
<span id="cb10-10"><a href="challenges.html#cb10-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-11"><a href="challenges.html#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="challenges.html#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="challenges.html#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="challenges.html#cb10-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-15"><a href="challenges.html#cb10-15" aria-hidden="true" tabindex="-1"></a>returns <span class="ot">&lt;-</span> <span class="fu">buffer</span>(</span>
<span id="cb10-16"><a href="challenges.html#cb10-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_yf</span>(<span class="at">tickers =</span> <span class="fu">c</span>(<span class="st">&quot;IBM&quot;</span>, <span class="st">&quot;GOOG&quot;</span>, <span class="st">&quot;AAPL&quot;</span>), <span class="at">from =</span> <span class="st">&quot;2018-01-01&quot;</span>, <span class="at">to =</span> <span class="st">&quot;2019-12-31&quot;</span>)<span class="sc">$</span>returns,</span>
<span id="cb10-17"><a href="challenges.html#cb10-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;CPI_3_assets&quot;</span></span>
<span id="cb10-18"><a href="challenges.html#cb10-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-19"><a href="challenges.html#cb10-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-20"><a href="challenges.html#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="co"># save geo to compare results</span></span>
<span id="cb10-21"><a href="challenges.html#cb10-21" aria-hidden="true" tabindex="-1"></a>mu_arit <span class="ot">&lt;-</span> <span class="fu">apply</span>(returns, <span class="dv">2</span>, mean) <span class="co">#ret_to_geomeanret(returns)</span></span>
<span id="cb10-22"><a href="challenges.html#cb10-22" aria-hidden="true" tabindex="-1"></a>cov_arit <span class="ot">&lt;-</span> <span class="fu">cov</span>(returns)</span>
<span id="cb10-23"><a href="challenges.html#cb10-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-24"><a href="challenges.html#cb10-24" aria-hidden="true" tabindex="-1"></a>mu <span class="ot">&lt;-</span> <span class="fu">ret_to_geomeanret</span>(returns) <span class="co">#apply(returns, 2, mean) #ret_to_geomeanret(returns)</span></span>
<span id="cb10-25"><a href="challenges.html#cb10-25" aria-hidden="true" tabindex="-1"></a>cov <span class="ot">&lt;-</span> <span class="fu">cov_</span>(returns, <span class="at">mean_vec =</span> mu)</span>
<span id="cb10-26"><a href="challenges.html#cb10-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-27"><a href="challenges.html#cb10-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-28"><a href="challenges.html#cb10-28" aria-hidden="true" tabindex="-1"></a>portfolios <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb10-29"><a href="challenges.html#cb10-29" aria-hidden="true" tabindex="-1"></a>mu_and_var <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb10-30"><a href="challenges.html#cb10-30" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(lambda <span class="cf">in</span> <span class="fu">seq</span>(<span class="fl">0.01</span>,<span class="dv">1</span>, <span class="fl">0.01</span>)){</span>
<span id="cb10-31"><a href="challenges.html#cb10-31" aria-hidden="true" tabindex="-1"></a>  mat <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb10-32"><a href="challenges.html#cb10-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">Dmat =</span> lambda <span class="sc">*</span> cov,</span>
<span id="cb10-33"><a href="challenges.html#cb10-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">dvec =</span> (<span class="dv">1</span> <span class="sc">-</span> lambda) <span class="sc">*</span> mu,</span>
<span id="cb10-34"><a href="challenges.html#cb10-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">Amat =</span> <span class="fu">t</span>(<span class="fu">rbind</span>(</span>
<span id="cb10-35"><a href="challenges.html#cb10-35" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rep</span>(<span class="dv">1</span>, <span class="fu">ncol</span>(returns)), <span class="co"># sum up to 1</span></span>
<span id="cb10-36"><a href="challenges.html#cb10-36" aria-hidden="true" tabindex="-1"></a>      <span class="fu">diag</span>(<span class="dv">1</span>, <span class="at">nrow=</span><span class="fu">ncol</span>(returns), <span class="at">ncol=</span><span class="fu">ncol</span>(returns)) <span class="co"># long only</span></span>
<span id="cb10-37"><a href="challenges.html#cb10-37" aria-hidden="true" tabindex="-1"></a>    )),</span>
<span id="cb10-38"><a href="challenges.html#cb10-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">bvec =</span> <span class="fu">c</span>(</span>
<span id="cb10-39"><a href="challenges.html#cb10-39" aria-hidden="true" tabindex="-1"></a>      <span class="dv">1</span>, <span class="co"># sum up to 1</span></span>
<span id="cb10-40"><a href="challenges.html#cb10-40" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rep</span>(<span class="dv">0</span>, <span class="fu">ncol</span>(returns)) <span class="co"># long only</span></span>
<span id="cb10-41"><a href="challenges.html#cb10-41" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb10-42"><a href="challenges.html#cb10-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">meq =</span> <span class="dv">1</span></span>
<span id="cb10-43"><a href="challenges.html#cb10-43" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-44"><a href="challenges.html#cb10-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-45"><a href="challenges.html#cb10-45" aria-hidden="true" tabindex="-1"></a>  qp <span class="ot">&lt;-</span> <span class="fu">solve.QP</span>(<span class="at">Dmat =</span> mat<span class="sc">$</span>Dmat, <span class="at">dvec =</span> mat<span class="sc">$</span>dvec, <span class="at">Amat =</span> mat<span class="sc">$</span>Amat, <span class="at">bvec =</span> mat<span class="sc">$</span>bvec, <span class="at">meq =</span> mat<span class="sc">$</span>meq)</span>
<span id="cb10-46"><a href="challenges.html#cb10-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-47"><a href="challenges.html#cb10-47" aria-hidden="true" tabindex="-1"></a>  port <span class="ot">&lt;-</span> <span class="fu">xts</span>(returns <span class="sc">%*%</span> qp<span class="sc">$</span>solution, <span class="at">order.by=</span><span class="fu">index</span>(returns))</span>
<span id="cb10-48"><a href="challenges.html#cb10-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-49"><a href="challenges.html#cb10-49" aria-hidden="true" tabindex="-1"></a>  mu_and_var <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb10-50"><a href="challenges.html#cb10-50" aria-hidden="true" tabindex="-1"></a>    mu_and_var,</span>
<span id="cb10-51"><a href="challenges.html#cb10-51" aria-hidden="true" tabindex="-1"></a>    <span class="fu">data.frame</span>(<span class="st">&quot;lambda&quot;</span> <span class="ot">=</span> lambda, <span class="st">&quot;mu&quot;</span> <span class="ot">=</span> mu_arit <span class="sc">%*%</span> qp<span class="sc">$</span>solution, <span class="st">&quot;sd&quot;</span> <span class="ot">=</span> <span class="fu">sqrt</span>(<span class="fu">t</span>(qp<span class="sc">$</span>solution) <span class="sc">%*%</span> cov_arit <span class="sc">%*%</span> qp<span class="sc">$</span>solution))</span>
<span id="cb10-52"><a href="challenges.html#cb10-52" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-53"><a href="challenges.html#cb10-53" aria-hidden="true" tabindex="-1"></a>  portfolios <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb10-54"><a href="challenges.html#cb10-54" aria-hidden="true" tabindex="-1"></a>    portfolios,</span>
<span id="cb10-55"><a href="challenges.html#cb10-55" aria-hidden="true" tabindex="-1"></a>    qp<span class="sc">$</span>solution</span>
<span id="cb10-56"><a href="challenges.html#cb10-56" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-57"><a href="challenges.html#cb10-57" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-58"><a href="challenges.html#cb10-58" aria-hidden="true" tabindex="-1"></a>portfolios <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(portfolios)</span>
<span id="cb10-59"><a href="challenges.html#cb10-59" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(portfolios) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(returns)</span>
<span id="cb10-60"><a href="challenges.html#cb10-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-61"><a href="challenges.html#cb10-61" aria-hidden="true" tabindex="-1"></a>all <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">type=</span><span class="st">&quot;geo_mean&quot;</span>, mu_and_var)</span>
<span id="cb10-62"><a href="challenges.html#cb10-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-63"><a href="challenges.html#cb10-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-64"><a href="challenges.html#cb10-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-65"><a href="challenges.html#cb10-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-66"><a href="challenges.html#cb10-66" aria-hidden="true" tabindex="-1"></a>mu <span class="ot">&lt;-</span> <span class="fu">apply</span>(returns, <span class="dv">2</span>, mean)</span>
<span id="cb10-67"><a href="challenges.html#cb10-67" aria-hidden="true" tabindex="-1"></a>cov <span class="ot">&lt;-</span> <span class="fu">cov</span>(returns)</span>
<span id="cb10-68"><a href="challenges.html#cb10-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-69"><a href="challenges.html#cb10-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-70"><a href="challenges.html#cb10-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-71"><a href="challenges.html#cb10-71" aria-hidden="true" tabindex="-1"></a>portfolios <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb10-72"><a href="challenges.html#cb10-72" aria-hidden="true" tabindex="-1"></a>mu_and_var <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb10-73"><a href="challenges.html#cb10-73" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(lambda <span class="cf">in</span> <span class="fu">seq</span>(<span class="fl">0.01</span>,<span class="dv">1</span>, <span class="fl">0.01</span>)){</span>
<span id="cb10-74"><a href="challenges.html#cb10-74" aria-hidden="true" tabindex="-1"></a>  mat <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb10-75"><a href="challenges.html#cb10-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">Dmat =</span> lambda <span class="sc">*</span> cov,</span>
<span id="cb10-76"><a href="challenges.html#cb10-76" aria-hidden="true" tabindex="-1"></a>    <span class="at">dvec =</span> (<span class="dv">1</span> <span class="sc">-</span> lambda) <span class="sc">*</span> mu,</span>
<span id="cb10-77"><a href="challenges.html#cb10-77" aria-hidden="true" tabindex="-1"></a>    <span class="at">Amat =</span> <span class="fu">t</span>(<span class="fu">rbind</span>(</span>
<span id="cb10-78"><a href="challenges.html#cb10-78" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rep</span>(<span class="dv">1</span>, <span class="fu">ncol</span>(returns)), <span class="co"># sum up to 1</span></span>
<span id="cb10-79"><a href="challenges.html#cb10-79" aria-hidden="true" tabindex="-1"></a>      <span class="fu">diag</span>(<span class="dv">1</span>, <span class="at">nrow=</span><span class="fu">ncol</span>(returns), <span class="at">ncol=</span><span class="fu">ncol</span>(returns)) <span class="co"># long only</span></span>
<span id="cb10-80"><a href="challenges.html#cb10-80" aria-hidden="true" tabindex="-1"></a>    )),</span>
<span id="cb10-81"><a href="challenges.html#cb10-81" aria-hidden="true" tabindex="-1"></a>    <span class="at">bvec =</span> <span class="fu">c</span>(</span>
<span id="cb10-82"><a href="challenges.html#cb10-82" aria-hidden="true" tabindex="-1"></a>      <span class="dv">1</span>, <span class="co"># sum up to 1</span></span>
<span id="cb10-83"><a href="challenges.html#cb10-83" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rep</span>(<span class="dv">0</span>, <span class="fu">ncol</span>(returns)) <span class="co"># long only</span></span>
<span id="cb10-84"><a href="challenges.html#cb10-84" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb10-85"><a href="challenges.html#cb10-85" aria-hidden="true" tabindex="-1"></a>    <span class="at">meq =</span> <span class="dv">1</span></span>
<span id="cb10-86"><a href="challenges.html#cb10-86" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-87"><a href="challenges.html#cb10-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-88"><a href="challenges.html#cb10-88" aria-hidden="true" tabindex="-1"></a>  qp <span class="ot">&lt;-</span> <span class="fu">solve.QP</span>(<span class="at">Dmat =</span> mat<span class="sc">$</span>Dmat, <span class="at">dvec =</span> mat<span class="sc">$</span>dvec, <span class="at">Amat =</span> mat<span class="sc">$</span>Amat, <span class="at">bvec =</span> mat<span class="sc">$</span>bvec, <span class="at">meq =</span> mat<span class="sc">$</span>meq)</span>
<span id="cb10-89"><a href="challenges.html#cb10-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-90"><a href="challenges.html#cb10-90" aria-hidden="true" tabindex="-1"></a>  port <span class="ot">&lt;-</span> <span class="fu">xts</span>(returns <span class="sc">%*%</span> qp<span class="sc">$</span>solution, <span class="at">order.by=</span><span class="fu">index</span>(returns))</span>
<span id="cb10-91"><a href="challenges.html#cb10-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-92"><a href="challenges.html#cb10-92" aria-hidden="true" tabindex="-1"></a>  mu_and_var <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb10-93"><a href="challenges.html#cb10-93" aria-hidden="true" tabindex="-1"></a>    mu_and_var,</span>
<span id="cb10-94"><a href="challenges.html#cb10-94" aria-hidden="true" tabindex="-1"></a>    <span class="fu">data.frame</span>(<span class="st">&quot;lambda&quot;</span> <span class="ot">=</span> lambda, <span class="st">&quot;mu&quot;</span> <span class="ot">=</span> mu_arit <span class="sc">%*%</span> qp<span class="sc">$</span>solution, <span class="st">&quot;sd&quot;</span> <span class="ot">=</span> <span class="fu">sqrt</span>(<span class="fu">t</span>(qp<span class="sc">$</span>solution) <span class="sc">%*%</span> cov_arit <span class="sc">%*%</span> qp<span class="sc">$</span>solution))</span>
<span id="cb10-95"><a href="challenges.html#cb10-95" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-96"><a href="challenges.html#cb10-96" aria-hidden="true" tabindex="-1"></a>  portfolios <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb10-97"><a href="challenges.html#cb10-97" aria-hidden="true" tabindex="-1"></a>    portfolios,</span>
<span id="cb10-98"><a href="challenges.html#cb10-98" aria-hidden="true" tabindex="-1"></a>    qp<span class="sc">$</span>solution</span>
<span id="cb10-99"><a href="challenges.html#cb10-99" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-100"><a href="challenges.html#cb10-100" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-101"><a href="challenges.html#cb10-101" aria-hidden="true" tabindex="-1"></a>portfolios <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(portfolios)</span>
<span id="cb10-102"><a href="challenges.html#cb10-102" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(portfolios) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(returns)</span>
<span id="cb10-103"><a href="challenges.html#cb10-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-104"><a href="challenges.html#cb10-104" aria-hidden="true" tabindex="-1"></a>all <span class="ot">&lt;-</span> <span class="fu">rbind</span>(all, <span class="fu">data.frame</span>(<span class="at">type=</span><span class="st">&quot;arith_mean&quot;</span>, mu_and_var))</span>
<span id="cb10-105"><a href="challenges.html#cb10-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-106"><a href="challenges.html#cb10-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-107"><a href="challenges.html#cb10-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-108"><a href="challenges.html#cb10-108" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_ly</span>(<span class="at">data =</span> all, <span class="at">type =</span> <span class="st">&#39;scatter&#39;</span>, <span class="at">mode=</span><span class="st">&quot;lines+markers&quot;</span>, <span class="at">y =</span> <span class="sc">~</span>mu, <span class="at">x =</span> <span class="sc">~</span>sd, <span class="at">name=</span><span class="sc">~</span>type) <span class="sc">%&gt;%</span></span>
<span id="cb10-109"><a href="challenges.html#cb10-109" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add_lines(data = all %&gt;% filter(type==&quot;geo_mean&quot;), y = ~mu, x = ~sd, name=&quot;geo_mean&quot;, type = &#39;scatter&#39;, mode=&quot;lines+markers&quot;) %&gt;%</span></span>
<span id="cb10-110"><a href="challenges.html#cb10-110" aria-hidden="true" tabindex="-1"></a>  <span class="co"># #add_trace(data = all %&gt;% filter(type==&quot;geo_mean&quot;), x = ~sd, y=~mu, name=&quot;geo_mean&quot;, mode=&quot;markers&quot;, type = &#39;scatter&#39;) %&gt;%</span></span>
<span id="cb10-111"><a href="challenges.html#cb10-111" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add_lines(data = all %&gt;% filter(type==&quot;arith_mean&quot;), y = ~mu, x = ~sd, name=&quot;arith_mean&quot;, type = &#39;scatter&#39;, mode=&quot;lines+markers&quot;) %&gt;%</span></span>
<span id="cb10-112"><a href="challenges.html#cb10-112" aria-hidden="true" tabindex="-1"></a>  <span class="co">#add_trace(data = all %&gt;% filter(type==&quot;arith_mean&quot;), x = ~sd, y=~mu, name=&quot;arith_mean&quot;, mode=&quot;markers&quot;, type = &#39;scatter&#39;) %&gt;%</span></span>
<span id="cb10-113"><a href="challenges.html#cb10-113" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add_lines(data = all %&gt;% filter(type==&quot;geo_mean_and_cov_with_arith&quot;), y = ~mu, x = ~sd, name=&quot;geo_mean_and_cov_with_arith&quot;, mode=&quot;lines&quot;, type = &#39;scatter&#39;) %&gt;%</span></span>
<span id="cb10-114"><a href="challenges.html#cb10-114" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add_trace(data = all %&gt;% filter(type==&quot;geo_mean_and_cov_with_arith&quot;), x = ~sd, y=~mu, name=&quot;geo_mean_and_cov_with_arith&quot;, mode=&quot;markers&quot;, type = &#39;scatter&#39;) %&gt;%</span></span>
<span id="cb10-115"><a href="challenges.html#cb10-115" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb10-116"><a href="challenges.html#cb10-116" aria-hidden="true" tabindex="-1"></a>    <span class="co">#title = &quot;3-Asset MVP: arith_mean or geo_mean&quot;,</span></span>
<span id="cb10-117"><a href="challenges.html#cb10-117" aria-hidden="true" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title=</span><span class="fu">list</span>(<span class="at">text =</span> <span class="st">&quot;mu (arithmetic)&quot;</span>, <span class="at">standoff =</span> 10L), <span class="at">range=</span><span class="fu">c</span>(<span class="fu">min</span>(mu_and_var<span class="sc">$</span>mu)<span class="sc">*</span><span class="fl">0.9</span>, <span class="fu">max</span>(mu_and_var<span class="sc">$</span>mu)<span class="sc">*</span><span class="fl">1.1</span>)),</span>
<span id="cb10-118"><a href="challenges.html#cb10-118" aria-hidden="true" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title=</span><span class="fu">list</span>(<span class="at">text =</span> <span class="st">&quot;sigma (arithmetic)&quot;</span>, <span class="at">standoff =</span> 10L), <span class="at">range=</span><span class="fu">c</span>(<span class="fu">min</span>(mu_and_var<span class="sc">$</span>sd)<span class="sc">*</span><span class="fl">0.95</span>, <span class="fu">max</span>(mu_and_var<span class="sc">$</span>sd)<span class="sc">*</span><span class="fl">1.05</span>))<span class="co">#,</span></span>
<span id="cb10-119"><a href="challenges.html#cb10-119" aria-hidden="true" tabindex="-1"></a>    <span class="co"># margin = list(</span></span>
<span id="cb10-120"><a href="challenges.html#cb10-120" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   l = 10,</span></span>
<span id="cb10-121"><a href="challenges.html#cb10-121" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   r = 10,</span></span>
<span id="cb10-122"><a href="challenges.html#cb10-122" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   b = 70,</span></span>
<span id="cb10-123"><a href="challenges.html#cb10-123" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   t = 50,</span></span>
<span id="cb10-124"><a href="challenges.html#cb10-124" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   pad = 4</span></span>
<span id="cb10-125"><a href="challenges.html#cb10-125" aria-hidden="true" tabindex="-1"></a>    <span class="co"># )</span></span>
<span id="cb10-126"><a href="challenges.html#cb10-126" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb10-127"><a href="challenges.html#cb10-127" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">mathjax =</span> <span class="st">&#39;cdn&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-128"><a href="challenges.html#cb10-128" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_save</span>()</span></code></pre></div>
<div id="htmlwidget-9adee5e707b21071f68f" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-9adee5e707b21071f68f">{"x":{"visdat":{"3e6025c92544":["function () ","plotlyVisDat"]},"cur_data":"3e6025c92544","attrs":{"3e6025c92544":{"mode":"lines+markers","y":{},"x":{},"name":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"yaxis":{"domain":[0,1],"automargin":true,"title":{"text":"mu (arithmetic)","standoff":10},"range":[0.000350732378077599,0.00142386198369828]},"xaxis":{"domain":[0,1],"automargin":true,"title":{"text":"sigma (arithmetic)","standoff":10},"range":[0.0122660904364129,0.018222863035419]},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"mode":"lines+markers","y":[0.00129441998518016,0.00129441998518024,0.00129441998518024,0.00129441998518026,0.00129441998518024,0.00129441998518023,0.00129441998518023,0.00129441998518023,0.00129441998518023,0.00129441998518024,0.00129441998518024,0.00129441998518023,0.00129441998518024,0.00129441998518025,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518023,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00128542376343323,0.00125666888068511,0.00122857502972431,0.00120111967537626,0.00116667200829022,0.00108819025415065,0.00101143337372843,0.000936345121141473,0.000862871669685421,0.000790961483153965,0.000720565195286329,0.000651635496749269,0.000584127029109882,0.000517996285299869,0.00045320151611228,0.000389702642308443],"x":[0.0173551076527787,0.0173551076527797,0.0173551076527797,0.01735510765278,0.0173551076527797,0.0173551076527796,0.0173551076527796,0.0173551076527796,0.0173551076527796,0.0173551076527797,0.0173551076527798,0.0173551076527797,0.0173551076527797,0.0173551076527798,0.0173551076527797,0.0173551076527798,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527798,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527798,0.0173551076527797,0.0173551076527798,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0172622745268395,0.0169773585502181,0.0167170378354429,0.0164806831721913,0.0162092951983889,0.0156307729763902,0.0151063291950207,0.014637126008356,0.0142241415283556,0.0138680782961182,0.013569272190066,0.0133276103681549,0.0131424675976511,0.0130126694725712,0.0129364883935329,0.0129116741435925],"name":"arith_mean","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines+markers","y":[0.00129441998518016,0.00129441998518027,0.00129441998518024,0.00129441998518024,0.00129441998518023,0.00129441998518024,0.00129441998518025,0.00129441998518024,0.00129441998518023,0.00129441998518024,0.00129441998518025,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518023,0.00129441998518023,0.00129441998518024,0.00129441998518023,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00129441998518024,0.00127725478481455,0.00124913264375443,0.0012216569886957,0.00119480578034284,0.00113849222313989,0.00106285414867643,0.000988878449475896,0.00091651091764929,0.000845699676829707,0.000776395058155222,0.00070854948408441,0.000642117359473407,0.000577054969390466,0.000513320383186769,0.000450873364381126,0.000389675285951596],"x":[0.0173551076527787,0.0173551076527802,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527798,0.0173551076527797,0.0173551076527796,0.0173551076527798,0.0173551076527798,0.0173551076527797,0.0173551076527798,0.0173551076527797,0.0173551076527797,0.0173551076527798,0.0173551076527797,0.0173551076527796,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527798,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527798,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0173551076527797,0.0171794848641359,0.0169057405777262,0.0166557696341159,0.0164289352062848,0.0159972360823245,0.0154531820896039,0.0149608475223943,0.0145211382218486,0.0141347695464582,0.0138021888740919,0.0135235010601623,0.0132984039307843,0.0131261410733815,0.0130054781127538,0.0129347063195322,0.0129116741485595],"name":"geo_mean","type":"scatter","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>It can be seen, that both estimators produce portfolios on the same efficient frontier. If the aim of the MVP is to generate a portfolio with minimal variance for a given return target, the type of return needs to be specified to use the geometric or arithmetic mean. This specification will determine the type of estimator needed for the MVP. This analogy is not needed in the scope of this thesis, because the more generic portfolios specified with <span class="math inline">\(\lambda\)</span> are sufficient to create test-cases for the PSO. The later examples with the MVP will always use the geometric mean returns as estimation for the expected returns.</p>
</div>
</div>
<div id="index-tracking-portfolio-itp" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Index-Tracking Portfolio (ITP)<a href="challenges.html#index-tracking-portfolio-itp" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Indices are baskets of assets that are used to track the performance of a particular asset group. For example, the well-known Standard and Poor’s 500 Index (S&amp;P 500 for short) tracks the 500 largest companies in the United States. Indices are not for sale and serve only to visualize the performance of a particular asset group, without incurring transaction costs. Such indices, or a combination of indices, are used by asset managers as benchmarks to compare the performance of their funds. Each fund has its own benchmark, which contains roughly the same assets that the manager might buy. If the fund underperforms its benchmark, it may indicate that the fund manager has made poor decisions. Therefore, fund managers strive to outperform their benchmarks through carefully selected investments. Past experience has shown that this is rarely achieved with active management by cost <span class="citation">(<a href="#ref-Desm2016" role="doc-biblioref">Desmond Pace and Grima 2016b</a>)</span>. This has led to the growing popularity of passively managed funds whose goal is to track their benchmarks as closely as possible. This can be achieved through either full or sparse replication. Full replication is a portfolio that contains all the assets in the benchmark with the same weightings. The resulting performance equals the performance of the benchmark when transaction costs are neglected. The first problem is that a benchmark may contain assets that are not liquid or cannot be purchased. The second problem is the weighting scheme of the indices, because they are often weighted by their market capitalization, which changes daily. This would result in the need to reblanance daily and increase transaction costs to replicate the performance of the benchmark as closely as possible. To avoid this, sparse replications are used that contain only a fraction of the benchmark’s assets. To do so, the portfolio manager must define his benchmark, which should overlap with the investment universe of his fund. He then reduces this universe, taking into account investor constraints and availability, to create a pool of possible assets. For example, a pool that replicates the S&amp;P 500 might consist of the one hundred highest-weighted assets in the S&amp;P 500. The ITP can be modeled in two ways analysed in <span class="citation">(<a href="#ref-IuGa2019" role="doc-biblioref">Iuliia Gavriushina 2019</a>)</span>.</p>
<div id="itpmste" class="section level3 hasAnchor" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> ITP with TEV objective (ITP-TEV)<a href="challenges.html#itpmste" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The classic and widely used model tries to reduce the tracking error variance (TEV) with the following formula:
<span class="math display">\[
\min \ \ Var(\pmb{TE}) = Var(\pmb{R}_{p}-\pmb{R}_{bm})
\]</span>
where the random tracking portfolio return is <span class="math inline">\(\pmb{R}_{p}\)</span> and the random benchmark return is <span class="math inline">\(\pmb{R}_{bm}\)</span>. To obtain the portfolio weights <span class="math inline">\(w\)</span>, one needs to substitute the tracking portfolio return <span class="math inline">\(\pmb{R}_{p}\)</span> as follows:
<span class="math display">\[
  \pmb{R}_{p} = \pmb{R} \times w
\]</span>
where <span class="math inline">\(\pmb{R}\)</span> is the random return vector containing the random return of each asset. The variance is then solved until a quadratic problem is presented as a function of portfolio weights <span class="math inline">\(w\)</span>:
<span class="math display">\[\begin{align*}
Var(\pmb{R}_{p}-\pmb{R}_{bm}) &amp;= Var(\pmb{R} \times w - \pmb{R}_{bm}) \\
&amp;= Var(\pmb{R} \times w) + Var(\pmb{R}_{bm}) - 2 \cdot Cov(\pmb{R} \times w,\pmb{R}_{bm})
\end{align*}\]</span></p>
<p>Now the three terms can be solved, starting with the simplest one.
<span class="math display">\[
Var(\pmb{R}_{bm}) = \sigma_{bm}^2
\]</span></p>
<p>The variance of the portfolio can be solved with <a href="mathfundations.html#portvar">4.5.4</a>:
<span class="math display">\[
Var(\pmb{R} \times w) = w^T \times Cov(\pmb{R}) \times w
\]</span>
And the last term can be solved in the same way as in <span class="citation">(<a href="#ref-Eric2021" role="doc-biblioref">Zivot 2021</a>)</span>:
<span class="math display">\[\begin{align*}
  Cov(\pmb{R} \times w, \pmb{R}_{bm}) &amp;= Cov(\pmb{R}_{bm}, \pmb{R} \times w) \\
  &amp;= E[(\pmb{R}_{bm}-\mu_{bm}) \cdot (\pmb{R} \times w-\mu_{\pmb{R}} \times w)] \\
  &amp;= E[(\pmb{R}_{bm}-\mu_{bm}) \cdot (\pmb{R}-\mu_{\pmb{R}}) \times w] \\
  &amp;= E[(\pmb{R}_{bm}-\mu_{bm}) \cdot (\pmb{R}-\mu_{\pmb{R}})] \times w \\
  &amp;= Cov(\pmb{R}_{bm}, \pmb{R}) \times w
\end{align*}\]</span></p>
<p>This results in the final formulation of the ITP:
<span class="math display" id="eq:ITP">\[\begin{align*}
  Var(\pmb{R}_{p}-\pmb{R}_{bm}) &amp; = Var(\pmb{R} \times w - \pmb{R}_{bm}) \\
  &amp; = Var(\pmb{R} \times w) - 2 \cdot Cov(\pmb{R} \times w,\pmb{R}_{bm}) + Var(\pmb{R}_{bm})  \\
  &amp; = w^T \times Cov(\pmb{R}) \times w - 2 \cdot Cov(\pmb{R}_{bm}, \pmb{R}) \times w + \sigma_{bm}^2
  \tag{6.2}
\end{align*}\]</span></p>
<p>The above problem can be estimated using the formulas and functions created in chapter <a href="mathfundations.html#mathfundations">4</a> and historical returns <span class="math inline">\(R\)</span> and <span class="math inline">\(r_{bm}\)</span>. The minimization problem of the ITP in the general structure required by many optimizers is:
<span class="math display">\[
  \min\limits_{w} \ \ \frac{1}{2} \cdot w^T \times D \times w -d^T \times w
\]</span></p>
<p>Minimization problems can ignore constant terms and global stretch coefficients and still find the same minimum. This leads to a general substitution of the ITP with TEV objective as follows:
<span class="math display">\[
  D = Cov(R)
\]</span>
and
<span class="math display">\[
d = Cov(r_{bm}, R)^T
\]</span></p>
<p>It is possible to add some basic constraints, as in the MVP to sum the weights to 1 and be long only. Despite the fact that this model is often used, it has a big disadvantage in that it cannot detect constant deviations in the returns. For this reason, the following model exists, which focuses on the mean square tracking error of returns (MSTE).</p>
</div>
<div id="ITPMSTE" class="section level3 hasAnchor" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> ITP with MSTE objective (ITP-MSTE)<a href="challenges.html#ITPMSTE" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A good explanation of the ITP with MSTE objective can be found in <span class="citation">(<a href="#ref-AhBa2017" role="doc-biblioref">Badary 2017</a>)</span>. The objective is to minimize the mean square tracking error (MSTE) of daily portfolio returns <span class="math inline">\(r_{t, p}\)</span> and daily benchmark returns <span class="math inline">\(r_{t, bm}\)</span> on <span class="math inline">\(T\)</span> historical days:</p>
<p><span class="math display">\[
  \frac{1}{T} \sum^T_{t=1}(r_{t, p}-r_{t, bm})^2
\]</span>
The formula can be rewritten as vector norm:
<span class="math display">\[
  \frac{1}{T} \left\Vert r_{p}-r_{bm} \right\Vert_2^2
\]</span>
Which results in the following minimization with neglected stretching factor:
<span class="math display">\[
min \ \  \left\Vert r_{p}-r_{bm} \right\Vert_2^2
\]</span>
The portfolio returns <span class="math inline">\(r_p\)</span> needs to be substituted to contain the portfolio weights <span class="math inline">\(w\)</span> like in the TEV objective above. This results in the below transformation of the problem:
<span class="math display">\[\begin{align*}
  \left\Vert r_{p}-r_{bm} \right\Vert_2^2 &amp;= \left\Vert R \times w-r_{bm} \right\Vert_2^2 \\
  &amp;= (R \times w-r_{bm})^T \times (R \times w-r_{bm}) \\
  &amp;= (w^T \times R^T-r_{bm}^T) \times (R \times w-r_{bm}) \\
  &amp;= w^T \times R^T \times R \times w - w^T \times R^T \times r_{bm} - r_{bm}^T \times R \times w + r_{bm}^T \times r_{bm}
\end{align*}\]</span></p>
<p>The minimization and the fact that the scalars <span class="math inline">\(w^T \times R^T \times r_{bm}\)</span> and <span class="math inline">\(r_{bm}^T \times R \times w\)</span> are equal, transforms the problem to:
<span class="math display">\[
  \min\limits_{w} \ \  \left\Vert r_{p}-r_{bm} \right\Vert_2^2
  = w^T \times R^T \times R \times w - 2\cdot r_{bm}^T \times R \times w
\]</span>
This leads to the equivalent general representation of the ITP with MSTE objective as follows:
<span class="math display">\[
  \min\limits_{w} \ \ \frac{1}{2} \cdot w^T \times D \times w - d^T \times w
\]</span>
with
<span class="math display">\[
D = R^T \times R
\]</span>
and
<span class="math display">\[
  d = R^T \times r_{bm}
\]</span></p>
</div>
<div id="example-itp" class="section level3 hasAnchor" number="6.2.3">
<h3><span class="header-section-number">6.2.3</span> Example ITP<a href="challenges.html#example-itp" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This example shows the results of tracking the S&amp;P 500 with a tracking portfolio that can only invest in IBM, Apple and Google. Because the returns are calculated from adjusted closing prices, the index needs to represent dividends, stock splits and rights offerings too. This can be achieved by taking the S&amp;P 500 Total Return Index (SP500TR in short). The time frame ranges from 2018-01-01 till 2019-12-31 and the goal is to minimize the difference in returns between the portfolio and the benchmark. The fitted return changes of the ITP-TEV and ITP-MSTE are:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code_fold_it_collapsed"><code class="sourceCode r"><span id="cb11-1"><a href="challenges.html#cb11-1" aria-hidden="true" tabindex="-1"></a>pool_returns <span class="ot">&lt;-</span> <span class="fu">buffer</span>(</span>
<span id="cb11-2"><a href="challenges.html#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_yf</span>(<span class="at">tickers =</span> <span class="fu">c</span>(<span class="st">&quot;IBM&quot;</span>, <span class="st">&quot;GOOG&quot;</span>, <span class="st">&quot;AAPL&quot;</span>), <span class="at">from =</span> <span class="st">&quot;2018-01-01&quot;</span>, <span class="at">to =</span> <span class="st">&quot;2019-12-31&quot;</span>)<span class="sc">$</span>returns, </span>
<span id="cb11-3"><a href="challenges.html#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;CPI_3_assets&quot;</span></span>
<span id="cb11-4"><a href="challenges.html#cb11-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-5"><a href="challenges.html#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="challenges.html#cb11-6" aria-hidden="true" tabindex="-1"></a>bm_returns <span class="ot">&lt;-</span> <span class="fu">buffer</span>(</span>
<span id="cb11-7"><a href="challenges.html#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_yf</span>(<span class="at">tickers =</span> <span class="st">&quot;^SP500TR&quot;</span>, <span class="at">from =</span> <span class="st">&quot;2018-01-01&quot;</span>, <span class="at">to =</span> <span class="st">&quot;2019-12-31&quot;</span>)<span class="sc">$</span>returns, </span>
<span id="cb11-8"><a href="challenges.html#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;CPI_sp500tr&quot;</span></span>
<span id="cb11-9"><a href="challenges.html#cb11-9" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">setNames</span>(., <span class="st">&quot;SP500TR&quot;</span>)</span>
<span id="cb11-10"><a href="challenges.html#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="challenges.html#cb11-11" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb11-12"><a href="challenges.html#cb11-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">Dmat =</span> <span class="fu">cov</span>(pool_returns),</span>
<span id="cb11-13"><a href="challenges.html#cb11-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">dvec =</span> <span class="fu">cov</span>(pool_returns, bm_returns),</span>
<span id="cb11-14"><a href="challenges.html#cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">Amat =</span> <span class="fu">t</span>(<span class="fu">rbind</span>(</span>
<span id="cb11-15"><a href="challenges.html#cb11-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rep</span>(<span class="dv">1</span>, <span class="fu">ncol</span>(pool_returns)), <span class="co"># sum up to 1</span></span>
<span id="cb11-16"><a href="challenges.html#cb11-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">diag</span>(<span class="dv">1</span>, <span class="at">nrow=</span><span class="fu">ncol</span>(pool_returns), <span class="at">ncol=</span><span class="fu">ncol</span>(pool_returns)) <span class="co"># long only</span></span>
<span id="cb11-17"><a href="challenges.html#cb11-17" aria-hidden="true" tabindex="-1"></a>    )),</span>
<span id="cb11-18"><a href="challenges.html#cb11-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">bvec =</span> <span class="fu">c</span>(</span>
<span id="cb11-19"><a href="challenges.html#cb11-19" aria-hidden="true" tabindex="-1"></a>      <span class="dv">1</span>, <span class="co"># sum up to 1</span></span>
<span id="cb11-20"><a href="challenges.html#cb11-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rep</span>(<span class="dv">0</span>, <span class="fu">ncol</span>(pool_returns)) <span class="co"># long only</span></span>
<span id="cb11-21"><a href="challenges.html#cb11-21" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb11-22"><a href="challenges.html#cb11-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">meq =</span> <span class="dv">1</span></span>
<span id="cb11-23"><a href="challenges.html#cb11-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-24"><a href="challenges.html#cb11-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-25"><a href="challenges.html#cb11-25" aria-hidden="true" tabindex="-1"></a>qp <span class="ot">&lt;-</span> <span class="fu">solve.QP</span>(<span class="at">Dmat =</span> mat<span class="sc">$</span>Dmat, <span class="at">dvec =</span> mat<span class="sc">$</span>dvec, <span class="at">Amat =</span> mat<span class="sc">$</span>Amat, <span class="at">bvec =</span> mat<span class="sc">$</span>bvec, <span class="at">meq =</span> mat<span class="sc">$</span>meq)</span>
<span id="cb11-26"><a href="challenges.html#cb11-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-27"><a href="challenges.html#cb11-27" aria-hidden="true" tabindex="-1"></a>composition_TEV <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">&quot;type&quot;</span><span class="ot">=</span><span class="st">&quot;ITP-TEV&quot;</span>, <span class="fu">t</span>(<span class="fu">setNames</span>(qp<span class="sc">$</span>solution, <span class="fu">colnames</span>(pool_returns))))</span>
<span id="cb11-28"><a href="challenges.html#cb11-28" aria-hidden="true" tabindex="-1"></a>port_returns_TEV <span class="ot">&lt;-</span> <span class="fu">xts</span>(pool_returns <span class="sc">%*%</span> qp<span class="sc">$</span>solution, <span class="at">order.by=</span><span class="fu">index</span>(pool_returns)) <span class="sc">%&gt;%</span> </span>
<span id="cb11-29"><a href="challenges.html#cb11-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setNames</span>(., <span class="st">&quot;ITP-TEV&quot;</span>)</span>
<span id="cb11-30"><a href="challenges.html#cb11-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-31"><a href="challenges.html#cb11-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-32"><a href="challenges.html#cb11-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-33"><a href="challenges.html#cb11-33" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb11-34"><a href="challenges.html#cb11-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">Dmat =</span> <span class="fu">t</span>(pool_returns) <span class="sc">%*%</span> pool_returns,</span>
<span id="cb11-35"><a href="challenges.html#cb11-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">dvec =</span> <span class="fu">t</span>(pool_returns) <span class="sc">%*%</span> bm_returns,</span>
<span id="cb11-36"><a href="challenges.html#cb11-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">Amat =</span> <span class="fu">t</span>(<span class="fu">rbind</span>(</span>
<span id="cb11-37"><a href="challenges.html#cb11-37" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rep</span>(<span class="dv">1</span>, <span class="fu">ncol</span>(pool_returns)), <span class="co"># sum up to 1</span></span>
<span id="cb11-38"><a href="challenges.html#cb11-38" aria-hidden="true" tabindex="-1"></a>      <span class="fu">diag</span>(<span class="dv">1</span>, <span class="at">nrow=</span><span class="fu">ncol</span>(pool_returns), <span class="at">ncol=</span><span class="fu">ncol</span>(pool_returns)) <span class="co"># long only</span></span>
<span id="cb11-39"><a href="challenges.html#cb11-39" aria-hidden="true" tabindex="-1"></a>    )),</span>
<span id="cb11-40"><a href="challenges.html#cb11-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">bvec =</span> <span class="fu">c</span>(</span>
<span id="cb11-41"><a href="challenges.html#cb11-41" aria-hidden="true" tabindex="-1"></a>      <span class="dv">1</span>, <span class="co"># sum up to 1</span></span>
<span id="cb11-42"><a href="challenges.html#cb11-42" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rep</span>(<span class="dv">0</span>, <span class="fu">ncol</span>(pool_returns)) <span class="co"># long only</span></span>
<span id="cb11-43"><a href="challenges.html#cb11-43" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb11-44"><a href="challenges.html#cb11-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">meq =</span> <span class="dv">1</span></span>
<span id="cb11-45"><a href="challenges.html#cb11-45" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-46"><a href="challenges.html#cb11-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-47"><a href="challenges.html#cb11-47" aria-hidden="true" tabindex="-1"></a>qp <span class="ot">&lt;-</span> <span class="fu">solve.QP</span>(<span class="at">Dmat =</span> mat<span class="sc">$</span>Dmat, <span class="at">dvec =</span> mat<span class="sc">$</span>dvec, <span class="at">Amat =</span> mat<span class="sc">$</span>Amat, <span class="at">bvec =</span> mat<span class="sc">$</span>bvec, <span class="at">meq =</span> mat<span class="sc">$</span>meq)</span>
<span id="cb11-48"><a href="challenges.html#cb11-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-49"><a href="challenges.html#cb11-49" aria-hidden="true" tabindex="-1"></a>composition_MSTE <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">&quot;type&quot;</span><span class="ot">=</span><span class="st">&quot;ITP-MSTE&quot;</span>, <span class="fu">t</span>(<span class="fu">setNames</span>(qp<span class="sc">$</span>solution, <span class="fu">colnames</span>(pool_returns))))</span>
<span id="cb11-50"><a href="challenges.html#cb11-50" aria-hidden="true" tabindex="-1"></a>port_returns_MSTE <span class="ot">&lt;-</span> <span class="fu">xts</span>(pool_returns <span class="sc">%*%</span> qp<span class="sc">$</span>solution, <span class="at">order.by=</span><span class="fu">index</span>(pool_returns)) <span class="sc">%&gt;%</span> </span>
<span id="cb11-51"><a href="challenges.html#cb11-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setNames</span>(., <span class="st">&quot;ITP-MSTE&quot;</span>)</span>
<span id="cb11-52"><a href="challenges.html#cb11-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-53"><a href="challenges.html#cb11-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-54"><a href="challenges.html#cb11-54" aria-hidden="true" tabindex="-1"></a><span class="fu">plotly_line_chart_xts</span>(<span class="fu">ret_to_cumret</span>(<span class="fu">cbind.xts</span>(port_returns_TEV, port_returns_MSTE, bm_returns))) <span class="sc">%&gt;%</span> </span>
<span id="cb11-55"><a href="challenges.html#cb11-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_save</span>()</span></code></pre></div>
<p><img src="Master_Thesis_files/figure-html/ITP_ex-1.png" width="672" />
The ITP-TEV and the ITP-MSTE had almost the same results, which can be seen in the compositions below:</p>
<pre><code>      type      AAPL       IBM      GOOG
1  ITP-TEV 0.2588844 0.4163274 0.3247882
2 ITP-MSTE 0.2586717 0.4165150 0.3248133</code></pre>

</div>
</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-AhBa2017" class="csl-entry">
Badary, Ahmad. 2017. <span>“How to Build a Basic Particle Swarm Optimiser from Scratch in r.”</span> 2017. <a href="https://ahmedbadary.github.io/work_files/research/conv_opt/hw/iftp">https://ahmedbadary.github.io/work_files/research/conv_opt/hw/iftp</a>.
</div>
<div id="ref-Desm2016" class="csl-entry">
Desmond Pace, Jana Hili, and Simon Grima. 2016b. <span>“Active Versus Passive Investing: An Empirical Study on the US and European Mutual Funds and ETFs.”</span>
</div>
<div id="ref-IuGa2019" class="csl-entry">
Iuliia Gavriushina, Oliver Sampson. 2019. <span>“Widened Learning of Index Tracking Portfolios.”</span>
</div>
<div id="ref-Mari2005" class="csl-entry">
Maringer, Dientmar. 2005. <em>Portfolio Management with Heuristic Optimization</em>.
</div>
<div id="ref-Eric2021" class="csl-entry">
Zivot, Eric. 2021. <em>Introduction to Computational Finance and Financial Econometrics with r</em>.
</div>
</div>
<script src="script.js"></script>
            </section>

          </div>
        </div>
      </div>
<a href="activevspassive.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="analyticalsolver.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/AxelCode-R/Asset-Allocation-using-Particle-Swarm-Optimization-in-R/edit/master/5_Challenges_of_Passiv_Investing.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Master_Thesis.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
